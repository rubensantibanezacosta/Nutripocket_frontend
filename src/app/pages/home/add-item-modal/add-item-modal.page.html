<ion-header [translucent]="true">
  <ion-toolbar color="light">

    <ion-title color="dark" class="ion-text-capitalize">
      {{dayfoodName}}
    </ion-title>

    <ion-buttons slot="start">
      <ion-button icon-only size="large" (click)="saveItems(false)" shape="round">
        <ion-icon md="close-outline" ios="chevron-back" size="small"></ion-icon>
      </ion-button>
    </ion-buttons>

    <ion-buttons slot="end" *ngIf="items.length>0">
      <ion-label>{{items.length}}</ion-label>
      <ion-button icon-only size="large" (click)="saveItems(true)">
        <ion-icon name="checkmark-done-outline" color="success"></ion-icon>
      </ion-button>
    </ion-buttons>

  </ion-toolbar>

  <ion-toolbar>
    <!-- Default Segment -->
    <ion-segment (ionChange)="slide($event)" color="secondary" mode="md">
      <ion-segment-button value="search" id="searchTag">
        <ion-label>BÃºsqueda</ion-label>
        <ion-icon name="search-outline"></ion-icon>
      </ion-segment-button>
      <ion-segment-button value="savedItems" id="saveItemsTag">
        <ion-label>Guardados</ion-label>
        <ion-icon name="list-outline"></ion-icon>
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>

</ion-header>


<ion-content>




  <ion-content *ngIf="visualize=='search'">
    <ion-searchbar animated placeholder="Buscar..." (keyup)="search(this.searchValue.value)" #searchValue>
    </ion-searchbar>

    <ion-list>
      <ion-item  *ngFor="let food of foods" (click)="editFoodWeight(food)" class="ion-activatable ripple-parent">
        <ion-ripple-effect>
        </ion-ripple-effect>
        <ion-label color="medium">
          <h3>{{food.nombre}}</h3>
        </ion-label>
      </ion-item>
      <ion-item lines="none" class="ion-activatable ripple-parent" (click)="createFood()">
        <ion-label color="medium">
          <h3>Insertar Alimento</h3>
        </ion-label>
        <ion-icon name="add" color="secondary"></ion-icon>
        <ion-ripple-effect>
        </ion-ripple-effect>
      </ion-item>
    </ion-list>


    <!-- <ion-content *ngIf="searchWord==undefined">
  <div class="ion-text-center">
    <ion-text color="medium">Busca un alimento</ion-text>
  </div>
</ion-content>
 -->
  </ion-content>


  <ion-content *ngIf="visualize=='savedItems'">
    <ion-list class="food-list">
      <ion-item-sliding class="ion-activatable ripple-parent" *ngFor="let item of items; let i=index;">

        <ion-item class="food-item" id="item{{i}}" (click)="editFoodWeightofSavedItem(item, i)">
          <ion-label>
            <h3>{{item.food.nombre}}</h3>
            <p class="units">{{round(item.dosex*item.food.doseg/100*item.food.calories100g)}} Kcal</p>
          </ion-label>
          <ion-label slot="end" class="food-quatity">{{item.dosex*item.food.doseg}}g</ion-label>

          <ion-ripple-effect>
          </ion-ripple-effect>
        </ion-item>

        <ion-item-options side="end">
          <ion-item-option color="danger" 
            (click)="PushToDeleteById('item'+i, $event.target, i)">
            <ion-icon slot="icon-only" name="trash">
            </ion-icon>
          </ion-item-option>
        </ion-item-options>
      </ion-item-sliding>
      <ion-item lines="none" class="ion-activatable ripple-parent" (click)="createFood()">
        <ion-label color="medium">
          <h3>Insertar Alimento</h3>
        </ion-label>
        <ion-icon name="add" color="secondary"></ion-icon>
        <ion-ripple-effect>
        </ion-ripple-effect>
      </ion-item>
      
    </ion-list>

    <!-- <ion-content *ngIf="searchWord==undefined">
  <div class="ion-text-center">
    <ion-text color="medium">Busca un alimento</ion-text>
  </div>
</ion-content>
 -->
  </ion-content>



</ion-content>